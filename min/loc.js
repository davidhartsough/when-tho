const span=document.getElementById("approx-loc"),backupKey="my-approx-loc",getBackup=()=>window.sessionStorage.getItem(backupKey)||null,setBackup=t=>window.sessionStorage.setItem(backupKey,t);function setText(t){span.innerText=t}async function getLocation(){const t=await fetch("https://geolocation-db.com/json/"),{city:e}=await t.json();if(e&&typeof e=="string"&&e.length>0){const n=`(near ${e})`;setBackup(n),setText(n)}else setText("")}if(span&&span.innerText==="..."){const t=getBackup();if(t)setText(t);else try{getLocation()}catch{setText("")}}
